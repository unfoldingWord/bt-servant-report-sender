{"message": "Initializing bt servant engine...", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-09 22:30:30", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "Loading brain...", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-09 22:30:30", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "brain loaded.", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-09 22:30:30", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "text message from kwlv1sXnUvYT9dnn with id wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkE3RDMwNTIxRDFBQkU3RDJGOAA= and timestamp 1765319433 received.", "client_ip": "172.17.0.1", "taskName": "Task-3", "timestamp": "2025-12-09 22:30:35", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "-", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-4", "timestamp": "2025-12-09 22:30:36", "level": "INFO", "logger": "httpx", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent typing indicator via message_id=wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkE3RDMwNTIxRDFBQkU3RDJGOAA=", "client_ip": "172.17.0.1", "taskName": "Task-4", "timestamp": "2025-12-09 22:30:36", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:37", "level": "INFO", "logger": "httpx", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:37", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=False verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:37", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language code en detected by gpt-4o.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:37", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:38", "level": "INFO", "logger": "httpx", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "original_message: set dev mode to false\nnew_message: set dev mode to false\nreason_for_decision: The user message is clear and doesn't require additional context from the previous conversation.\nmessage_changed: False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:38", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:38", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:38", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Detecting intents from query: set dev mode to false", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:38", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:41", "level": "INFO", "logger": "httpx", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "extracted user intents: clear-dev-agentic-mcp", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:41", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Single intent detected=clear-dev-agentic-mcp; skipping parameter extraction", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:41", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Single intent: clear-dev-agentic-mcp for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:41", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Using mapped context for active intent clear-dev-agentic-mcp: 'set dev mode to false'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:41", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Intent routing context established (source=intent_context_map, intent=clear-dev-agentic-mcp, user=kwlv1sXnUvYT9dnn)", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:41", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Routing to node: clear_dev_agentic_mcp_node for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:41", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:42", "level": "INFO", "logger": "httpx", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:42", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=False verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:42", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "chunk translation not required. using chunk as is.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:42", "level": "INFO", "logger": "bt_servant_engine.services.response_pipeline", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:42", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:42", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[followup] No follow-up question defined for intent=clear-dev-agentic-mcp, using generic fallback", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:42", "level": "WARNING", "logger": "bt_servant_engine.services.intents.followup_questions", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[followup] Added follow-up for intent=clear-dev-agentic-mcp language=en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:42", "level": "INFO", "logger": "bt_servant_engine.services.intents.followup_questions", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[translate] Added intent-specific follow-up for intent=clear-dev-agentic-mcp", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:42", "level": "INFO", "logger": "bt_servant_engine.services.brain_followups", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Response from bt_servant: Developer MCP mode disabled. Using the standard flow.\n\nIs there anything else I can help you with?", "client_ip": "172.17.0.1", "taskName": "Task-4", "timestamp": "2025-12-09 22:30:42", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-4", "timestamp": "2025-12-09 22:30:43", "level": "INFO", "logger": "httpx", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: Developer MCP mode disabled. Using the standard flow.\n\nIs there anything else I can help you with?", "client_ip": "172.17.0.1", "taskName": "Task-4", "timestamp": "2025-12-09 22:30:43", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Overall process_message processing time: 11.78 seconds", "client_ip": "172.17.0.1", "taskName": "Task-4", "timestamp": "2025-12-09 22:30:47", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "PerfReport {\n   \"user_id\":\"kwlv1sXnUvYT9dnn\",\n   \"trace_id\":\"wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkE3RDMwNTIxRDFBQkU3RDJGOAA=\",\n   \"total_ms\":11780.07,\n   \"total_s\":11.78,\n   \"total_input_tokens\":6323,\n   \"total_output_tokens\":61,\n   \"total_tokens\":6384,\n   \"total_cached_input_tokens\":0,\n   \"total_audio_input_tokens\":0,\n   \"total_audio_output_tokens\":0,\n   \"total_input_cost_usd\":0.014433,\n   \"total_output_cost_usd\":0.000497,\n   \"total_cached_input_cost_usd\":0.0,\n   \"total_audio_input_cost_usd\":0.0,\n   \"total_audio_output_cost_usd\":0.0,\n   \"total_cost_usd\":0.01493,\n   \"grouped_totals_by_intent\":{},\n   \"spans\":[\n      {\n         \"name\":\"bt_servant:verify_facebook_signature\",\n         \"duration_ms\":0.05,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":0.0,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"bt_servant:process_message\",\n         \"duration_ms\":11779.04,\n         \"duration_se\":11.78,\n         \"duration_percentage\":\"100.0%\",\n         \"start_offset_ms\":1.03,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"messaging:send_typing_indicator_message\",\n         \"duration_ms\":983.97,\n         \"duration_se\":0.98,\n         \"duration_percentage\":\"8.4%\",\n         \"start_offset_ms\":1.04,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:start_node\",\n         \"duration_ms\":0.69,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":990.38,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:determine_query_language_node\",\n         \"duration_ms\":1180.85,\n         \"duration_se\":1.18,\n         \"duration_percentage\":\"10.0%\",\n         \"start_offset_ms\":991.65,\n         \"input_tokens_expended\":290,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":296,\n         \"input_cost_usd\":4.4e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.7e-05,\n         \"token_percentage\":\"4.6%\"\n      },\n      {\n         \"name\":\"brain:preprocess_user_query_node\",\n         \"duration_ms\":1449.64,\n         \"duration_se\":1.45,\n         \"duration_percentage\":\"12.3%\",\n         \"start_offset_ms\":2173.29,\n         \"input_tokens_expended\":2887,\n         \"output_tokens_expended\":36,\n         \"total_tokens_expended\":2923,\n         \"input_cost_usd\":0.007217,\n         \"output_cost_usd\":0.00036,\n         \"total_cost_usd\":0.007578,\n         \"token_percentage\":\"45.8%\"\n      },\n      {\n         \"name\":\"brain:determine_intents_node\",\n         \"duration_ms\":2567.99,\n         \"duration_se\":2.57,\n         \"duration_percentage\":\"21.8%\",\n         \"start_offset_ms\":3623.51,\n         \"input_tokens_expended\":2851,\n         \"output_tokens_expended\":13,\n         \"total_tokens_expended\":2864,\n         \"input_cost_usd\":0.007127,\n         \"output_cost_usd\":0.00013,\n         \"total_cost_usd\":0.007257,\n         \"token_percentage\":\"44.9%\"\n      },\n      {\n         \"name\":\"brain:clear_dev_agentic_mcp_node\",\n         \"duration_ms\":4.5,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":6193.0,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:translate_responses_node\",\n         \"duration_ms\":659.33,\n         \"duration_se\":0.66,\n         \"duration_percentage\":\"5.6%\",\n         \"start_offset_ms\":6198.22,\n         \"input_tokens_expended\":295,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":301,\n         \"input_cost_usd\":4.4e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.8e-05,\n         \"token_percentage\":\"4.7%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":912.69,\n         \"duration_se\":0.91,\n         \"duration_percentage\":\"7.7%\",\n         \"start_offset_ms\":6859.07,\n         \"token_percentage\":\"0.0%\"\n      }\n   ]\n}", "client_ip": "172.17.0.1", "taskName": "Task-4", "timestamp": "2025-12-09 22:30:47", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "fa6e603bb0274d1990236920564b6e80", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "text message from kwlv1sXnUvYT9dnn with id wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkI3Q0JFODZENkJDM0I5NzVFOAA= and timestamp 1765319447 received.", "client_ip": "172.17.0.1", "taskName": "Task-12", "timestamp": "2025-12-09 22:30:49", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "-", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-13", "timestamp": "2025-12-09 22:30:50", "level": "INFO", "logger": "httpx", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent typing indicator via message_id=wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkI3Q0JFODZENkJDM0I5NzVFOAA=", "client_ip": "172.17.0.1", "taskName": "Task-13", "timestamp": "2025-12-09 22:30:50", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:51", "level": "INFO", "logger": "httpx", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:51", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=True verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:51", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language code en detected by gpt-4o.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:51", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:53", "level": "INFO", "logger": "httpx", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "original_message: what version are you on\nnew_message: What version are you on?\nreason_for_decision: The user's request is clear and specific, asking for the version, which aligns with their previous interest in system details.\nmessage_changed: False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:53", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:53", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:53", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Detecting intents from query: what version are you on", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:53", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:54", "level": "INFO", "logger": "httpx", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "extracted user intents: retrieve-system-information", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:54", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Single intent detected=retrieve-system-information; skipping parameter extraction", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:54", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Single intent: retrieve-system-information for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:54", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Using mapped context for active intent retrieve-system-information: 'what version are you on'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:54", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Intent routing context established (source=intent_context_map, intent=retrieve-system-information, user=kwlv1sXnUvYT9dnn)", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:54", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Routing to node: handle_system_information_request_node for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:54", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-16", "timestamp": "2025-12-09 22:30:55", "level": "INFO", "logger": "httpx", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: _I'm generating a response from my help docs._", "client_ip": "172.17.0.1", "taskName": "Task-16", "timestamp": "2025-12-09 22:30:55", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent progress message: '_I'm generating a response from my help docs._' (1765319454.3s since last [FORCED])", "client_ip": "172.17.0.1", "taskName": "Task-16", "timestamp": "2025-12-09 22:30:55", "level": "INFO", "logger": "bt_servant_engine.services.progress_messaging", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-context] Node=handle_system_information_request_node will use active context (source=intent_context_map): 'what version are you on'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:55", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:57", "level": "INFO", "logger": "httpx", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:57", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:57", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "help response from openai: Current version: v1.4.3\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\nThe current version is v1.4.1. \n\nHere is a list of what I can help you with:\n\n- Summarize a passage: Summarize books, chapters, or verse ranges.\n- FIA process guidance: Use FIA resources to explain the workflow or apply steps to a passage.\n- Translation helps: Point out typical translation challenges.\n- Keywords: List key terms in a passage.\n- Show scripture text: Display the verse text for a selection.\n- Read aloud: Hear the passage as audio.\n- Translate scripture: Translate a passage into another language.\n- Set response language: Choose your preferred reply language.\n- Clear response language: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:57", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:58", "level": "INFO", "logger": "httpx", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:58", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=False verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:58", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "chunk translation not required. using chunk as is.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:58", "level": "INFO", "logger": "bt_servant_engine.services.response_pipeline", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:58", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:30:58", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Response from bt_servant: Current version: v1.4.3\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\nThe current version is v1.4.1. \n\nHere is a list of what I can help you with:\n\n- Summarize a passage: Summarize books, chapters, or verse ranges.\n- FIA process guidance: Use FIA resources to explain the workflow or apply steps to a passage.\n- Translation helps: Point out typical translation challenges.\n- Keywords: List key terms in a passage.\n- Show scripture text: Display the verse text for a selection.\n- Read aloud: Hear the passage as audio.\n- Translate scripture: Translate a passage into another language.\n- Set response language: Choose your preferred reply language.\n- Clear response language: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-13", "timestamp": "2025-12-09 22:30:58", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-13", "timestamp": "2025-12-09 22:30:58", "level": "INFO", "logger": "httpx", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: Current version: v1.4.3\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\nThe current version is v1.4.1. \n\nHere is a list of what I can help you with:\n\n- Summarize a passage: Summarize books, chapters, or verse ranges.\n- FIA process guidance: Use FIA resources to explain the workflow or apply steps to a passage.\n- Translation helps: Point out typical translation challenges.\n- Keywords: List key terms in a passage.\n- Show scripture text: Display the verse text for a selection.\n- Read aloud: Hear the passage as audio.\n- Translate scripture: Translate a passage into another language.\n- Set response language: Choose your preferred reply language.\n- Clear response language: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-13", "timestamp": "2025-12-09 22:30:58", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Overall process_message processing time: 13.34 seconds", "client_ip": "172.17.0.1", "taskName": "Task-13", "timestamp": "2025-12-09 22:31:02", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "PerfReport {\n   \"user_id\":\"kwlv1sXnUvYT9dnn\",\n   \"trace_id\":\"wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkI3Q0JFODZENkJDM0I5NzVFOAA=\",\n   \"total_ms\":13343.4,\n   \"total_s\":13.34,\n   \"total_input_tokens\":7398,\n   \"total_output_tokens\":217,\n   \"total_tokens\":7615,\n   \"total_cached_input_tokens\":0,\n   \"total_audio_input_tokens\":0,\n   \"total_audio_output_tokens\":0,\n   \"total_input_cost_usd\":0.017113,\n   \"total_output_cost_usd\":0.002057,\n   \"total_cached_input_cost_usd\":0.0,\n   \"total_audio_input_cost_usd\":0.0,\n   \"total_audio_output_cost_usd\":0.0,\n   \"total_cost_usd\":0.01917,\n   \"grouped_totals_by_intent\":{\n      \"retrieve-system-information\":{\n         \"input_tokens\":1375,\n         \"output_tokens\":150,\n         \"total_tokens\":1525,\n         \"cached_input_tokens\":0,\n         \"audio_input_tokens\":0,\n         \"audio_output_tokens\":0,\n         \"input_cost_usd\":0.003437,\n         \"output_cost_usd\":0.0015,\n         \"cached_input_cost_usd\":0.0,\n         \"audio_input_cost_usd\":0.0,\n         \"audio_output_cost_usd\":0.0,\n         \"total_cost_usd\":0.004937,\n         \"duration_percentage\":\"17.6%\",\n         \"token_percentage\":\"20.0%\"\n      }\n   },\n   \"spans\":[\n      {\n         \"name\":\"bt_servant:verify_facebook_signature\",\n         \"duration_ms\":0.03,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":0.0,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"bt_servant:process_message\",\n         \"duration_ms\":13342.66,\n         \"duration_se\":13.34,\n         \"duration_percentage\":\"100.0%\",\n         \"start_offset_ms\":0.74,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"messaging:send_typing_indicator_message\",\n         \"duration_ms\":428.03,\n         \"duration_se\":0.43,\n         \"duration_percentage\":\"3.2%\",\n         \"start_offset_ms\":0.75,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:start_node\",\n         \"duration_ms\":0.52,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":431.98,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:determine_query_language_node\",\n         \"duration_ms\":1514.48,\n         \"duration_se\":1.51,\n         \"duration_percentage\":\"11.4%\",\n         \"start_offset_ms\":432.85,\n         \"input_tokens_expended\":290,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":296,\n         \"input_cost_usd\":4.4e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.7e-05,\n         \"token_percentage\":\"3.9%\"\n      },\n      {\n         \"name\":\"brain:preprocess_user_query_node\",\n         \"duration_ms\":1781.41,\n         \"duration_se\":1.78,\n         \"duration_percentage\":\"13.4%\",\n         \"start_offset_ms\":1947.89,\n         \"input_tokens_expended\":2584,\n         \"output_tokens_expended\":45,\n         \"total_tokens_expended\":2629,\n         \"input_cost_usd\":0.00646,\n         \"output_cost_usd\":0.00045,\n         \"total_cost_usd\":0.00691,\n         \"token_percentage\":\"34.5%\"\n      },\n      {\n         \"name\":\"brain:determine_intents_node\",\n         \"duration_ms\":961.96,\n         \"duration_se\":0.96,\n         \"duration_percentage\":\"7.2%\",\n         \"start_offset_ms\":3729.81,\n         \"input_tokens_expended\":2851,\n         \"output_tokens_expended\":10,\n         \"total_tokens_expended\":2861,\n         \"input_cost_usd\":0.007127,\n         \"output_cost_usd\":0.0001,\n         \"total_cost_usd\":0.007227,\n         \"token_percentage\":\"37.6%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":904.79,\n         \"duration_se\":0.9,\n         \"duration_percentage\":\"6.8%\",\n         \"start_offset_ms\":4693.41,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:handle_system_information_request_node\",\n         \"duration_ms\":2345.45,\n         \"duration_se\":2.35,\n         \"duration_percentage\":\"17.6%\",\n         \"start_offset_ms\":5598.57,\n         \"input_tokens_expended\":1375,\n         \"output_tokens_expended\":150,\n         \"total_tokens_expended\":1525,\n         \"input_cost_usd\":0.003437,\n         \"output_cost_usd\":0.0015,\n         \"total_cost_usd\":0.004937,\n         \"token_percentage\":\"20.0%\"\n      },\n      {\n         \"name\":\"brain:translate_responses_node\",\n         \"duration_ms\":700.79,\n         \"duration_se\":0.7,\n         \"duration_percentage\":\"5.3%\",\n         \"start_offset_ms\":7944.6,\n         \"input_tokens_expended\":298,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":304,\n         \"input_cost_usd\":4.5e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.8e-05,\n         \"token_percentage\":\"4.0%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":687.32,\n         \"duration_se\":0.69,\n         \"duration_percentage\":\"5.2%\",\n         \"start_offset_ms\":8647.16,\n         \"token_percentage\":\"0.0%\"\n      }\n   ]\n}", "client_ip": "172.17.0.1", "taskName": "Task-13", "timestamp": "2025-12-09 22:31:02", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "8041d9c6d7024047ab3b25e62286a1ae", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "text message from kwlv1sXnUvYT9dnn with id wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkYwRDBEQkU3MTkxQkEzOTNCNQA= and timestamp 1765319303 received.", "client_ip": "172.17.0.1", "taskName": "Task-30", "timestamp": "2025-12-09 22:31:20", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "-", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-31", "timestamp": "2025-12-09 22:31:20", "level": "INFO", "logger": "httpx", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent typing indicator via message_id=wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkYwRDBEQkU3MTkxQkEzOTNCNQA=", "client_ip": "172.17.0.1", "taskName": "Task-31", "timestamp": "2025-12-09 22:31:20", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:21", "level": "INFO", "logger": "httpx", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:21", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=False verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:21", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language code en detected by gpt-4o.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:21", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:23", "level": "INFO", "logger": "httpx", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "original_message: set dev mode to false\nnew_message: Set developer mode to false.\nreason_for_decision: The user's request to set developer mode to false is already clear and was mentioned previously, so no changes are needed.\nmessage_changed: False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:23", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:23", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:23", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Detecting intents from query: set dev mode to false", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:23", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:24", "level": "INFO", "logger": "httpx", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "extracted user intents: clear-dev-agentic-mcp", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:24", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Single intent detected=clear-dev-agentic-mcp; skipping parameter extraction", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:24", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Single intent: clear-dev-agentic-mcp for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:24", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Using mapped context for active intent clear-dev-agentic-mcp: 'set dev mode to false'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:24", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Intent routing context established (source=intent_context_map, intent=clear-dev-agentic-mcp, user=kwlv1sXnUvYT9dnn)", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:24", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Routing to node: clear_dev_agentic_mcp_node for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:24", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "httpx", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=False verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "chunk translation not required. using chunk as is.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "bt_servant_engine.services.response_pipeline", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[followup] No follow-up question defined for intent=clear-dev-agentic-mcp, using generic fallback", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:25", "level": "WARNING", "logger": "bt_servant_engine.services.intents.followup_questions", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[followup] Added follow-up for intent=clear-dev-agentic-mcp language=en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "bt_servant_engine.services.intents.followup_questions", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[translate] Added intent-specific follow-up for intent=clear-dev-agentic-mcp", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "bt_servant_engine.services.brain_followups", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Response from bt_servant: Developer MCP mode disabled. Using the standard flow.\n\nIs there anything else I can help you with?", "client_ip": "172.17.0.1", "taskName": "Task-31", "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-31", "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "httpx", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: Developer MCP mode disabled. Using the standard flow.\n\nIs there anything else I can help you with?", "client_ip": "172.17.0.1", "taskName": "Task-31", "timestamp": "2025-12-09 22:31:25", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Overall process_message processing time: 9.80 seconds", "client_ip": "172.17.0.1", "taskName": "Task-31", "timestamp": "2025-12-09 22:31:29", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "PerfReport {\n   \"user_id\":\"kwlv1sXnUvYT9dnn\",\n   \"trace_id\":\"wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkYwRDBEQkU3MTkxQkEzOTNCNQA=\",\n   \"total_ms\":9803.44,\n   \"total_s\":9.8,\n   \"total_input_tokens\":6175,\n   \"total_output_tokens\":69,\n   \"total_tokens\":6244,\n   \"total_cached_input_tokens\":0,\n   \"total_audio_input_tokens\":0,\n   \"total_audio_output_tokens\":0,\n   \"total_input_cost_usd\":0.014063,\n   \"total_output_cost_usd\":0.000577,\n   \"total_cached_input_cost_usd\":0.0,\n   \"total_audio_input_cost_usd\":0.0,\n   \"total_audio_output_cost_usd\":0.0,\n   \"total_cost_usd\":0.01464,\n   \"grouped_totals_by_intent\":{},\n   \"spans\":[\n      {\n         \"name\":\"bt_servant:verify_facebook_signature\",\n         \"duration_ms\":0.03,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":0.0,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"bt_servant:process_message\",\n         \"duration_ms\":9802.62,\n         \"duration_se\":9.8,\n         \"duration_percentage\":\"100.0%\",\n         \"start_offset_ms\":0.82,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"messaging:send_typing_indicator_message\",\n         \"duration_ms\":389.08,\n         \"duration_se\":0.39,\n         \"duration_percentage\":\"4.0%\",\n         \"start_offset_ms\":0.83,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:start_node\",\n         \"duration_ms\":1.58,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":396.03,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:determine_query_language_node\",\n         \"duration_ms\":1088.2,\n         \"duration_se\":1.09,\n         \"duration_percentage\":\"11.1%\",\n         \"start_offset_ms\":398.01,\n         \"input_tokens_expended\":290,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":296,\n         \"input_cost_usd\":4.4e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.7e-05,\n         \"token_percentage\":\"4.7%\"\n      },\n      {\n         \"name\":\"brain:preprocess_user_query_node\",\n         \"duration_ms\":1894.52,\n         \"duration_se\":1.89,\n         \"duration_percentage\":\"19.3%\",\n         \"start_offset_ms\":1486.75,\n         \"input_tokens_expended\":2739,\n         \"output_tokens_expended\":44,\n         \"total_tokens_expended\":2783,\n         \"input_cost_usd\":0.006848,\n         \"output_cost_usd\":0.00044,\n         \"total_cost_usd\":0.007288,\n         \"token_percentage\":\"44.6%\"\n      },\n      {\n         \"name\":\"brain:determine_intents_node\",\n         \"duration_ms\":943.62,\n         \"duration_se\":0.94,\n         \"duration_percentage\":\"9.6%\",\n         \"start_offset_ms\":3381.99,\n         \"input_tokens_expended\":2851,\n         \"output_tokens_expended\":13,\n         \"total_tokens_expended\":2864,\n         \"input_cost_usd\":0.007127,\n         \"output_cost_usd\":0.00013,\n         \"total_cost_usd\":0.007257,\n         \"token_percentage\":\"45.9%\"\n      },\n      {\n         \"name\":\"brain:clear_dev_agentic_mcp_node\",\n         \"duration_ms\":4.12,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":4326.9,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:translate_responses_node\",\n         \"duration_ms\":782.33,\n         \"duration_se\":0.78,\n         \"duration_percentage\":\"8.0%\",\n         \"start_offset_ms\":4331.54,\n         \"input_tokens_expended\":295,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":301,\n         \"input_cost_usd\":4.4e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.8e-05,\n         \"token_percentage\":\"4.8%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":680.33,\n         \"duration_se\":0.68,\n         \"duration_percentage\":\"6.9%\",\n         \"start_offset_ms\":5115.64,\n         \"token_percentage\":\"0.0%\"\n      }\n   ]\n}", "client_ip": "172.17.0.1", "taskName": "Task-31", "timestamp": "2025-12-09 22:31:29", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "436db8019d7043748b5f07ba87a0c59c", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.", "client_ip": "-", "taskName": "Task-1", "timestamp": "2025-12-10 09:10:40", "level": "INFO", "logger": "chromadb.telemetry.product.posthog", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "Initializing bt servant engine...", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 09:10:41", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "Loading brain...", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 09:10:41", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "brain loaded.", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 09:10:41", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "text message from kwlv1sXnUvYT9dnn with id wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRjFDNzlBM0YwMzc5NEFFMjkwRQA= and timestamp 1765387164 received.", "client_ip": "172.17.0.1", "taskName": "Task-589", "timestamp": "2025-12-10 17:19:26", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "-", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-590", "timestamp": "2025-12-10 17:19:27", "level": "INFO", "logger": "httpx", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent typing indicator via message_id=wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRjFDNzlBM0YwMzc5NEFFMjkwRQA=", "client_ip": "172.17.0.1", "taskName": "Task-590", "timestamp": "2025-12-10 17:19:27", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:30", "level": "INFO", "logger": "httpx", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:31", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=False verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:31", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language code en detected by gpt-4o.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:31", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:33", "level": "INFO", "logger": "httpx", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "original_message: you awake now?\nnew_message: Are you available to assist me now?\nreason_for_decision: The user seems to be checking if the assistant is ready or active. Clarified the intent as a query about availability for assistance.\nmessage_changed: True", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:33", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:33", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:33", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Detecting intents from query: Are you available to assist me now?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:33", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:35", "level": "INFO", "logger": "httpx", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "extracted user intents: converse-with-bt-servant", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:35", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Single intent detected=converse-with-bt-servant; skipping parameter extraction", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:35", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Single intent: converse-with-bt-servant for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:35", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Using mapped context for active intent converse-with-bt-servant: 'Are you available to assist me now?'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:35", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Intent routing context established (source=intent_context_map, intent=converse-with-bt-servant, user=kwlv1sXnUvYT9dnn)", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:35", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Routing to node: converse_with_bt_servant_node for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:35", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-context] Node=converse_with_bt_servant_node will use active context (source=intent_context_map): 'Are you available to assist me now?'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:35", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:38", "level": "INFO", "logger": "httpx", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:38", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "converse_with_bt_servant response from openai: Absolutely, I'm here to help! \n\nHere's what I can do:\n- Summarize a passage (e.g., 'Summarize Titus 1.')\n- FIA process guidance (e.g., 'What are the steps of the FIA process?')\n- Translation helps (e.g., 'Translation challenges for John 1:1?')\n- Keywords (e.g., 'Important words in Romans 1.')\n- Show scripture text (e.g., 'Show John 3:1618.')\n- Read aloud (e.g., 'Read Romans 8:14 aloud.')\n- Translate scripture (e.g., 'Translate John 3:16 into Indonesian.')\n- Set response language (e.g., 'Set my response language to Spanish.')\n- Clear response language (e.g., 'Stop forcing a specific response language.')\nWhich would you like me to do?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:38", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:39", "level": "INFO", "logger": "httpx", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:39", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=True verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:39", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "chunk translation not required. using chunk as is.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:39", "level": "INFO", "logger": "bt_servant_engine.services.response_pipeline", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:39", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:19:39", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Response from bt_servant: Absolutely, I'm here to help! \n\nHere's what I can do:\n- Summarize a passage (e.g., 'Summarize Titus 1.')\n- FIA process guidance (e.g., 'What are the steps of the FIA process?')\n- Translation helps (e.g., 'Translation challenges for John 1:1?')\n- Keywords (e.g., 'Important words in Romans 1.')\n- Show scripture text (e.g., 'Show John 3:1618.')\n- Read aloud (e.g., 'Read Romans 8:14 aloud.')\n- Translate scripture (e.g., 'Translate John 3:16 into Indonesian.')\n- Set response language (e.g., 'Set my response language to Spanish.')\n- Clear response language (e.g., 'Stop forcing a specific response language.')\nWhich would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-590", "timestamp": "2025-12-10 17:19:39", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-590", "timestamp": "2025-12-10 17:19:40", "level": "INFO", "logger": "httpx", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: Absolutely, I'm here to help! \n\nHere's what I can do:\n- Summarize a passage (e.g., 'Summarize Titus 1.')\n- FIA process guidance (e.g., 'What are the steps of the FIA process?')\n- Translation helps (e.g., 'Translation challenges for John 1:1?')\n- Keywords (e.g., 'Important words in Romans 1.')\n- Show scripture text (e.g., 'Show John 3:1618.')\n- Read aloud (e.g., 'Read Romans 8:14 aloud.')\n- Translate scripture (e.g., 'Translate John 3:16 into Indonesian.')\n- Set response language (e.g., 'Set my response language to Spanish.')\n- Clear response language (e.g., 'Stop forcing a specific response language.')\nWhich would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-590", "timestamp": "2025-12-10 17:19:40", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Overall process_message processing time: 17.68 seconds", "client_ip": "172.17.0.1", "taskName": "Task-590", "timestamp": "2025-12-10 17:19:44", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "PerfReport {\n   \"user_id\":\"kwlv1sXnUvYT9dnn\",\n   \"trace_id\":\"wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRjFDNzlBM0YwMzc5NEFFMjkwRQA=\",\n   \"total_ms\":17711.37,\n   \"total_s\":17.71,\n   \"total_input_tokens\":7238,\n   \"total_output_tokens\":253,\n   \"total_tokens\":7491,\n   \"total_cached_input_tokens\":0,\n   \"total_audio_input_tokens\":0,\n   \"total_audio_output_tokens\":0,\n   \"total_input_cost_usd\":0.01668,\n   \"total_output_cost_usd\":0.002417,\n   \"total_cached_input_cost_usd\":0.0,\n   \"total_audio_input_cost_usd\":0.0,\n   \"total_audio_output_cost_usd\":0.0,\n   \"total_cost_usd\":0.019098,\n   \"grouped_totals_by_intent\":{\n      \"converse-with-bt-servant\":{\n         \"input_tokens\":1057,\n         \"output_tokens\":177,\n         \"total_tokens\":1234,\n         \"cached_input_tokens\":0,\n         \"audio_input_tokens\":0,\n         \"audio_output_tokens\":0,\n         \"input_cost_usd\":0.002642,\n         \"output_cost_usd\":0.00177,\n         \"cached_input_cost_usd\":0.0,\n         \"audio_input_cost_usd\":0.0,\n         \"audio_output_cost_usd\":0.0,\n         \"total_cost_usd\":0.004412,\n         \"duration_percentage\":\"14.7%\",\n         \"token_percentage\":\"16.5%\"\n      }\n   },\n   \"spans\":[\n      {\n         \"name\":\"bt_servant:verify_facebook_signature\",\n         \"duration_ms\":14.98,\n         \"duration_se\":0.01,\n         \"duration_percentage\":\"0.1%\",\n         \"start_offset_ms\":0.0,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"bt_servant:process_message\",\n         \"duration_ms\":17683.68,\n         \"duration_se\":17.68,\n         \"duration_percentage\":\"99.8%\",\n         \"start_offset_ms\":27.68,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"messaging:send_typing_indicator_message\",\n         \"duration_ms\":599.08,\n         \"duration_se\":0.6,\n         \"duration_percentage\":\"3.4%\",\n         \"start_offset_ms\":27.7,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:start_node\",\n         \"duration_ms\":0.66,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":636.09,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:determine_query_language_node\",\n         \"duration_ms\":3886.43,\n         \"duration_se\":3.89,\n         \"duration_percentage\":\"21.9%\",\n         \"start_offset_ms\":637.23,\n         \"input_tokens_expended\":289,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":295,\n         \"input_cost_usd\":4.3e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.7e-05,\n         \"token_percentage\":\"3.9%\"\n      },\n      {\n         \"name\":\"brain:preprocess_user_query_node\",\n         \"duration_ms\":2935.05,\n         \"duration_se\":2.94,\n         \"duration_percentage\":\"16.6%\",\n         \"start_offset_ms\":4524.49,\n         \"input_tokens_expended\":2725,\n         \"output_tokens_expended\":50,\n         \"total_tokens_expended\":2775,\n         \"input_cost_usd\":0.006812,\n         \"output_cost_usd\":0.0005,\n         \"total_cost_usd\":0.007312,\n         \"token_percentage\":\"37.0%\"\n      },\n      {\n         \"name\":\"brain:determine_intents_node\",\n         \"duration_ms\":1492.25,\n         \"duration_se\":1.49,\n         \"duration_percentage\":\"8.4%\",\n         \"start_offset_ms\":7460.1,\n         \"input_tokens_expended\":2854,\n         \"output_tokens_expended\":14,\n         \"total_tokens_expended\":2868,\n         \"input_cost_usd\":0.007135,\n         \"output_cost_usd\":0.00014,\n         \"total_cost_usd\":0.007275,\n         \"token_percentage\":\"38.3%\"\n      },\n      {\n         \"name\":\"brain:converse_with_bt_servant_node\",\n         \"duration_ms\":2607.07,\n         \"duration_se\":2.61,\n         \"duration_percentage\":\"14.7%\",\n         \"start_offset_ms\":8954.07,\n         \"input_tokens_expended\":1057,\n         \"output_tokens_expended\":177,\n         \"total_tokens_expended\":1234,\n         \"input_cost_usd\":0.002642,\n         \"output_cost_usd\":0.00177,\n         \"total_cost_usd\":0.004412,\n         \"token_percentage\":\"16.5%\"\n      },\n      {\n         \"name\":\"brain:translate_responses_node\",\n         \"duration_ms\":1112.04,\n         \"duration_se\":1.11,\n         \"duration_percentage\":\"6.3%\",\n         \"start_offset_ms\":11561.73,\n         \"input_tokens_expended\":313,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":319,\n         \"input_cost_usd\":4.7e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":5.1e-05,\n         \"token_percentage\":\"4.3%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":1027.36,\n         \"duration_se\":1.03,\n         \"duration_percentage\":\"5.8%\",\n         \"start_offset_ms\":12675.51,\n         \"token_percentage\":\"0.0%\"\n      }\n   ]\n}", "client_ip": "172.17.0.1", "taskName": "Task-590", "timestamp": "2025-12-10 17:19:44", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "33b8cf2045c640a399416db1b2aafc0a", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "text message from kwlv1sXnUvYT9dnn with id wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkMyOURBMzFCMzA0QzUyRkYxQwA= and timestamp 1765387199 received.", "client_ip": "172.17.0.1", "taskName": "Task-598", "timestamp": "2025-12-10 17:20:00", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "-", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-599", "timestamp": "2025-12-10 17:20:00", "level": "INFO", "logger": "httpx", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent typing indicator via message_id=wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkMyOURBMzFCMzA0QzUyRkYxQwA=", "client_ip": "172.17.0.1", "taskName": "Task-599", "timestamp": "2025-12-10 17:20:00", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:02", "level": "INFO", "logger": "httpx", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:02", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=True verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:02", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language code en detected by gpt-4o.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:02", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:04", "level": "INFO", "logger": "httpx", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "original_message: what version are you on?\nnew_message: what version are you on?\nreason_for_decision: The user's question is straightforward and clear without any need for additional context or clarification.\nmessage_changed: False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:04", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:04", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:04", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Detecting intents from query: what version are you on?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:04", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:05", "level": "INFO", "logger": "httpx", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "extracted user intents: retrieve-system-information", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:05", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Single intent detected=retrieve-system-information; skipping parameter extraction", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:05", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Single intent: retrieve-system-information for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:05", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Using mapped context for active intent retrieve-system-information: 'what version are you on?'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:05", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Intent routing context established (source=intent_context_map, intent=retrieve-system-information, user=kwlv1sXnUvYT9dnn)", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:05", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Routing to node: handle_system_information_request_node for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:05", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-604", "timestamp": "2025-12-10 17:20:07", "level": "INFO", "logger": "httpx", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: _I'm generating a response from my help docs._", "client_ip": "172.17.0.1", "taskName": "Task-604", "timestamp": "2025-12-10 17:20:07", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent progress message: '_I'm generating a response from my help docs._' (1765387205.9s since last [FORCED])", "client_ip": "172.17.0.1", "taskName": "Task-604", "timestamp": "2025-12-10 17:20:07", "level": "INFO", "logger": "bt_servant_engine.services.progress_messaging", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-context] Node=handle_system_information_request_node will use active context (source=intent_context_map): 'what version are you on?'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:07", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:09", "level": "INFO", "logger": "httpx", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:09", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:09", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "help response from openai: Current version: v1.4.3\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\nThe current version is v1.4.1. \n\nHere's a list of what I can assist you with:\n\n- Summarize a passage: Summarize books, chapters, or verse ranges.\n- FIA process guidance: Use FIA resources to explain the workflow or apply steps to a passage.\n- Translation helps: Point out typical translation challenges.\n- Keywords: List key terms in a passage.\n- Show scripture text: Display the verse text for a selection.\n- Read aloud: Hear the passage as audio.\n- Translate scripture: Translate a passage into another language.\n- Set response language: Choose your preferred reply language.\n- Clear response language: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:09", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:10", "level": "INFO", "logger": "httpx", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:10", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=False verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:10", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "chunk translation not required. using chunk as is.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:10", "level": "INFO", "logger": "bt_servant_engine.services.response_pipeline", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:10", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:20:10", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Response from bt_servant: Current version: v1.4.3\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\nThe current version is v1.4.1. \n\nHere's a list of what I can assist you with:\n\n- Summarize a passage: Summarize books, chapters, or verse ranges.\n- FIA process guidance: Use FIA resources to explain the workflow or apply steps to a passage.\n- Translation helps: Point out typical translation challenges.\n- Keywords: List key terms in a passage.\n- Show scripture text: Display the verse text for a selection.\n- Read aloud: Hear the passage as audio.\n- Translate scripture: Translate a passage into another language.\n- Set response language: Choose your preferred reply language.\n- Clear response language: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-599", "timestamp": "2025-12-10 17:20:10", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-599", "timestamp": "2025-12-10 17:20:11", "level": "INFO", "logger": "httpx", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: Current version: v1.4.3\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\nThe current version is v1.4.1. \n\nHere's a list of what I can assist you with:\n\n- Summarize a passage: Summarize books, chapters, or verse ranges.\n- FIA process guidance: Use FIA resources to explain the workflow or apply steps to a passage.\n- Translation helps: Point out typical translation challenges.\n- Keywords: List key terms in a passage.\n- Show scripture text: Display the verse text for a selection.\n- Read aloud: Hear the passage as audio.\n- Translate scripture: Translate a passage into another language.\n- Set response language: Choose your preferred reply language.\n- Clear response language: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-599", "timestamp": "2025-12-10 17:20:11", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Overall process_message processing time: 15.36 seconds", "client_ip": "172.17.0.1", "taskName": "Task-599", "timestamp": "2025-12-10 17:20:15", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "PerfReport {\n   \"user_id\":\"kwlv1sXnUvYT9dnn\",\n   \"trace_id\":\"wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkMyOURBMzFCMzA0QzUyRkYxQwA=\",\n   \"total_ms\":15357.0,\n   \"total_s\":15.36,\n   \"total_input_tokens\":8004,\n   \"total_output_tokens\":209,\n   \"total_tokens\":8213,\n   \"total_cached_input_tokens\":0,\n   \"total_audio_input_tokens\":0,\n   \"total_audio_output_tokens\":0,\n   \"total_input_cost_usd\":0.018626,\n   \"total_output_cost_usd\":0.001977,\n   \"total_cached_input_cost_usd\":0.0,\n   \"total_audio_input_cost_usd\":0.0,\n   \"total_audio_output_cost_usd\":0.0,\n   \"total_cost_usd\":0.020603,\n   \"grouped_totals_by_intent\":{\n      \"retrieve-system-information\":{\n         \"input_tokens\":1677,\n         \"output_tokens\":149,\n         \"total_tokens\":1826,\n         \"cached_input_tokens\":0,\n         \"audio_input_tokens\":0,\n         \"audio_output_tokens\":0,\n         \"input_cost_usd\":0.004193,\n         \"output_cost_usd\":0.00149,\n         \"cached_input_cost_usd\":0.0,\n         \"audio_input_cost_usd\":0.0,\n         \"audio_output_cost_usd\":0.0,\n         \"total_cost_usd\":0.005683,\n         \"duration_percentage\":\"13.9%\",\n         \"token_percentage\":\"22.2%\"\n      }\n   },\n   \"spans\":[\n      {\n         \"name\":\"bt_servant:verify_facebook_signature\",\n         \"duration_ms\":0.04,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":0.0,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"bt_servant:process_message\",\n         \"duration_ms\":15355.82,\n         \"duration_se\":15.36,\n         \"duration_percentage\":\"100.0%\",\n         \"start_offset_ms\":1.17,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"messaging:send_typing_indicator_message\",\n         \"duration_ms\":647.12,\n         \"duration_se\":0.65,\n         \"duration_percentage\":\"4.2%\",\n         \"start_offset_ms\":1.19,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:start_node\",\n         \"duration_ms\":0.54,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":651.65,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:determine_query_language_node\",\n         \"duration_ms\":1130.61,\n         \"duration_se\":1.13,\n         \"duration_percentage\":\"7.4%\",\n         \"start_offset_ms\":652.55,\n         \"input_tokens_expended\":291,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":297,\n         \"input_cost_usd\":4.4e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.7e-05,\n         \"token_percentage\":\"3.6%\"\n      },\n      {\n         \"name\":\"brain:preprocess_user_query_node\",\n         \"duration_ms\":2626.22,\n         \"duration_se\":2.63,\n         \"duration_percentage\":\"17.1%\",\n         \"start_offset_ms\":1783.86,\n         \"input_tokens_expended\":2886,\n         \"output_tokens_expended\":38,\n         \"total_tokens_expended\":2924,\n         \"input_cost_usd\":0.007215,\n         \"output_cost_usd\":0.00038,\n         \"total_cost_usd\":0.007595,\n         \"token_percentage\":\"35.6%\"\n      },\n      {\n         \"name\":\"brain:determine_intents_node\",\n         \"duration_ms\":1214.06,\n         \"duration_se\":1.21,\n         \"duration_percentage\":\"7.9%\",\n         \"start_offset_ms\":4425.91,\n         \"input_tokens_expended\":2852,\n         \"output_tokens_expended\":10,\n         \"total_tokens_expended\":2862,\n         \"input_cost_usd\":0.00713,\n         \"output_cost_usd\":0.0001,\n         \"total_cost_usd\":0.00723,\n         \"token_percentage\":\"34.8%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":1089.12,\n         \"duration_se\":1.09,\n         \"duration_percentage\":\"7.1%\",\n         \"start_offset_ms\":5641.82,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:handle_system_information_request_node\",\n         \"duration_ms\":2137.69,\n         \"duration_se\":2.14,\n         \"duration_percentage\":\"13.9%\",\n         \"start_offset_ms\":6731.49,\n         \"input_tokens_expended\":1677,\n         \"output_tokens_expended\":149,\n         \"total_tokens_expended\":1826,\n         \"input_cost_usd\":0.004193,\n         \"output_cost_usd\":0.00149,\n         \"total_cost_usd\":0.005683,\n         \"token_percentage\":\"22.2%\"\n      },\n      {\n         \"name\":\"brain:translate_responses_node\",\n         \"duration_ms\":1686.77,\n         \"duration_se\":1.69,\n         \"duration_percentage\":\"11.0%\",\n         \"start_offset_ms\":8869.72,\n         \"input_tokens_expended\":298,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":304,\n         \"input_cost_usd\":4.5e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.8e-05,\n         \"token_percentage\":\"3.7%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":789.67,\n         \"duration_se\":0.79,\n         \"duration_percentage\":\"5.1%\",\n         \"start_offset_ms\":10558.21,\n         \"token_percentage\":\"0.0%\"\n      }\n   ]\n}", "client_ip": "172.17.0.1", "taskName": "Task-599", "timestamp": "2025-12-10 17:20:15", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "04f37c73128a4f7d928380afd9f3db53", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.", "client_ip": "-", "taskName": "Task-1", "timestamp": "2025-12-10 17:20:59", "level": "INFO", "logger": "chromadb.telemetry.product.posthog", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "Initializing bt servant engine...", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 17:21:00", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "Loading brain...", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 17:21:00", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "brain loaded.", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 17:21:00", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "text message from kwlv1sXnUvYT9dnn with id wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRjA5RkQ3QjUzQkNBQTkyNkYyRAA= and timestamp 1765387392 received.", "client_ip": "172.17.0.1", "taskName": "Task-8", "timestamp": "2025-12-10 17:23:13", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "-", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-9", "timestamp": "2025-12-10 17:23:13", "level": "INFO", "logger": "httpx", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent typing indicator via message_id=wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRjA5RkQ3QjUzQkNBQTkyNkYyRAA=", "client_ip": "172.17.0.1", "taskName": "Task-9", "timestamp": "2025-12-10 17:23:13", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:16", "level": "INFO", "logger": "httpx", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:16", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=True verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:16", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language code en detected by gpt-4o.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:16", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:19", "level": "INFO", "logger": "httpx", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "original_message: what version are you on now?\nnew_message: What version are you on now?\nreason_for_decision: The user's current question is straightforward and clear, asking for the version. Past context does not alter the intent.\nmessage_changed: False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:19", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:19", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:19", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Detecting intents from query: what version are you on now?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:19", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:20", "level": "INFO", "logger": "httpx", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "extracted user intents: retrieve-system-information", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:20", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Single intent detected=retrieve-system-information; skipping parameter extraction", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:20", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Single intent: retrieve-system-information for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:20", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Using mapped context for active intent retrieve-system-information: 'what version are you on now?'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:20", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Intent routing context established (source=intent_context_map, intent=retrieve-system-information, user=kwlv1sXnUvYT9dnn)", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:20", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Routing to node: handle_system_information_request_node for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:20", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-12", "timestamp": "2025-12-10 17:23:21", "level": "INFO", "logger": "httpx", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: _I'm generating a response from my help docs._", "client_ip": "172.17.0.1", "taskName": "Task-12", "timestamp": "2025-12-10 17:23:21", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent progress message: '_I'm generating a response from my help docs._' (1765387400.7s since last [FORCED])", "client_ip": "172.17.0.1", "taskName": "Task-12", "timestamp": "2025-12-10 17:23:21", "level": "INFO", "logger": "bt_servant_engine.services.progress_messaging", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-context] Node=handle_system_information_request_node will use active context (source=intent_context_map): 'what version are you on now?'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:21", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "httpx", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "help response from openai: Current version: v1.4.4\n\nHere's what I can help you with:\n\n- **Summarize a passage**: Summarize books, chapters, or verse ranges.\n- **FIA process guidance**: Use FIA resources to explain the workflow or apply steps to a passage.\n- **Translation helps**: Point out typical translation challenges.\n- **Keywords**: List key terms in a passage.\n- **Show scripture text**: Display the verse text for a selection.\n- **Read aloud**: Hear the passage as audio.\n- **Translate scripture**: Translate a passage into another language.\n- **Set response language**: Choose your preferred reply language.\n- **Clear response language**: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "httpx", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=True verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "chunk translation not required. using chunk as is.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "bt_servant_engine.services.response_pipeline", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Response from bt_servant: Current version: v1.4.4\n\nHere's what I can help you with:\n\n- **Summarize a passage**: Summarize books, chapters, or verse ranges.\n- **FIA process guidance**: Use FIA resources to explain the workflow or apply steps to a passage.\n- **Translation helps**: Point out typical translation challenges.\n- **Keywords**: List key terms in a passage.\n- **Show scripture text**: Display the verse text for a selection.\n- **Read aloud**: Hear the passage as audio.\n- **Translate scripture**: Translate a passage into another language.\n- **Set response language**: Choose your preferred reply language.\n- **Clear response language**: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-9", "timestamp": "2025-12-10 17:23:24", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-9", "timestamp": "2025-12-10 17:23:25", "level": "INFO", "logger": "httpx", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: Current version: v1.4.4\n\nHere's what I can help you with:\n\n- **Summarize a passage**: Summarize books, chapters, or verse ranges.\n- **FIA process guidance**: Use FIA resources to explain the workflow or apply steps to a passage.\n- **Translation helps**: Point out typical translation challenges.\n- **Keywords**: List key terms in a passage.\n- **Show scripture text**: Display the verse text for a selection.\n- **Read aloud**: Hear the passage as audio.\n- **Translate scripture**: Translate a passage into another language.\n- **Set response language**: Choose your preferred reply language.\n- **Clear response language**: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-9", "timestamp": "2025-12-10 17:23:25", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Overall process_message processing time: 16.08 seconds", "client_ip": "172.17.0.1", "taskName": "Task-9", "timestamp": "2025-12-10 17:23:29", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "PerfReport {\n   \"user_id\":\"kwlv1sXnUvYT9dnn\",\n   \"trace_id\":\"wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRjA5RkQ3QjUzQkNBQTkyNkYyRAA=\",\n   \"total_ms\":16082.97,\n   \"total_s\":16.08,\n   \"total_input_tokens\":7803,\n   \"total_output_tokens\":230,\n   \"total_tokens\":8033,\n   \"total_cached_input_tokens\":0,\n   \"total_audio_input_tokens\":0,\n   \"total_audio_output_tokens\":0,\n   \"total_input_cost_usd\":0.018081,\n   \"total_output_cost_usd\":0.002187,\n   \"total_cached_input_cost_usd\":0.0,\n   \"total_audio_input_cost_usd\":0.0,\n   \"total_audio_output_cost_usd\":0.0,\n   \"total_cost_usd\":0.020268,\n   \"grouped_totals_by_intent\":{\n      \"retrieve-system-information\":{\n         \"input_tokens\":1590,\n         \"output_tokens\":163,\n         \"total_tokens\":1753,\n         \"cached_input_tokens\":0,\n         \"audio_input_tokens\":0,\n         \"audio_output_tokens\":0,\n         \"input_cost_usd\":0.003975,\n         \"output_cost_usd\":0.00163,\n         \"cached_input_cost_usd\":0.0,\n         \"audio_input_cost_usd\":0.0,\n         \"audio_output_cost_usd\":0.0,\n         \"total_cost_usd\":0.005605,\n         \"duration_percentage\":\"16.3%\",\n         \"token_percentage\":\"21.8%\"\n      }\n   },\n   \"spans\":[\n      {\n         \"name\":\"bt_servant:verify_facebook_signature\",\n         \"duration_ms\":0.03,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":0.0,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"bt_servant:process_message\",\n         \"duration_ms\":16082.17,\n         \"duration_se\":16.08,\n         \"duration_percentage\":\"100.0%\",\n         \"start_offset_ms\":0.8,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"messaging:send_typing_indicator_message\",\n         \"duration_ms\":401.39,\n         \"duration_se\":0.4,\n         \"duration_percentage\":\"2.5%\",\n         \"start_offset_ms\":0.81,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:start_node\",\n         \"duration_ms\":0.73,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":406.13,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:determine_query_language_node\",\n         \"duration_ms\":3362.24,\n         \"duration_se\":3.36,\n         \"duration_percentage\":\"20.9%\",\n         \"start_offset_ms\":407.34,\n         \"input_tokens_expended\":292,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":298,\n         \"input_cost_usd\":4.4e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.7e-05,\n         \"token_percentage\":\"3.7%\"\n      },\n      {\n         \"name\":\"brain:preprocess_user_query_node\",\n         \"duration_ms\":2235.99,\n         \"duration_se\":2.24,\n         \"duration_percentage\":\"13.9%\",\n         \"start_offset_ms\":3770.41,\n         \"input_tokens_expended\":2753,\n         \"output_tokens_expended\":45,\n         \"total_tokens_expended\":2798,\n         \"input_cost_usd\":0.006882,\n         \"output_cost_usd\":0.00045,\n         \"total_cost_usd\":0.007332,\n         \"token_percentage\":\"34.8%\"\n      },\n      {\n         \"name\":\"brain:determine_intents_node\",\n         \"duration_ms\":1444.35,\n         \"duration_se\":1.44,\n         \"duration_percentage\":\"9.0%\",\n         \"start_offset_ms\":6007.26,\n         \"input_tokens_expended\":2853,\n         \"output_tokens_expended\":10,\n         \"total_tokens_expended\":2863,\n         \"input_cost_usd\":0.007132,\n         \"output_cost_usd\":0.0001,\n         \"total_cost_usd\":0.007233,\n         \"token_percentage\":\"35.6%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":745.16,\n         \"duration_se\":0.75,\n         \"duration_percentage\":\"4.6%\",\n         \"start_offset_ms\":7453.74,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:handle_system_information_request_node\",\n         \"duration_ms\":2628.37,\n         \"duration_se\":2.63,\n         \"duration_percentage\":\"16.3%\",\n         \"start_offset_ms\":8199.43,\n         \"input_tokens_expended\":1590,\n         \"output_tokens_expended\":163,\n         \"total_tokens_expended\":1753,\n         \"input_cost_usd\":0.003975,\n         \"output_cost_usd\":0.00163,\n         \"total_cost_usd\":0.005605,\n         \"token_percentage\":\"21.8%\"\n      },\n      {\n         \"name\":\"brain:translate_responses_node\",\n         \"duration_ms\":574.69,\n         \"duration_se\":0.57,\n         \"duration_percentage\":\"3.6%\",\n         \"start_offset_ms\":10828.65,\n         \"input_tokens_expended\":315,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":321,\n         \"input_cost_usd\":4.7e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":5.1e-05,\n         \"token_percentage\":\"4.0%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":670.21,\n         \"duration_se\":0.67,\n         \"duration_percentage\":\"4.2%\",\n         \"start_offset_ms\":11404.97,\n         \"token_percentage\":\"0.0%\"\n      }\n   ]\n}", "client_ip": "172.17.0.1", "taskName": "Task-9", "timestamp": "2025-12-10 17:23:29", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "997cc4dd5eb148d99d130dbc975c3fe2", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.", "client_ip": "-", "taskName": "Task-1", "timestamp": "2025-12-10 17:45:57", "level": "INFO", "logger": "chromadb.telemetry.product.posthog", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "Initializing bt servant engine...", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 17:45:57", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "Loading brain...", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 17:45:57", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "brain loaded.", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 17:45:58", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.", "client_ip": "-", "taskName": "Task-1", "timestamp": "2025-12-10 17:52:25", "level": "INFO", "logger": "chromadb.telemetry.product.posthog", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "Initializing bt servant engine...", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 17:52:26", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "Loading brain...", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 17:52:26", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "brain loaded.", "client_ip": "-", "taskName": "Task-2", "timestamp": "2025-12-10 17:52:26", "level": "INFO", "logger": "bt_servant_engine.apps.api.app", "cid": "-", "user": "-", "schema_version": "1.0.0"}
{"message": "text message from kwlv1sXnUvYT9dnn with id wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkExMkU2N0EyRjdFNTk0MTA1NAA= and timestamp 1765389212 received.", "client_ip": "172.17.0.1", "taskName": "Task-4", "timestamp": "2025-12-10 17:53:33", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "035220a267e64986855e24a9137e0313", "user": "-", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-5", "timestamp": "2025-12-10 17:53:34", "level": "INFO", "logger": "httpx", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent typing indicator via message_id=wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkExMkU2N0EyRjdFNTk0MTA1NAA=", "client_ip": "172.17.0.1", "taskName": "Task-5", "timestamp": "2025-12-10 17:53:34", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:35", "level": "INFO", "logger": "httpx", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:35", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=True verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:35", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language code en detected by gpt-4o.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:35", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:37", "level": "INFO", "logger": "httpx", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "original_message: what version are you on now?\nnew_message: what version are you on now?\nreason_for_decision: The user's question is clear and unambiguous, asking for the current version. No changes are necessary.\nmessage_changed: False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:37", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:37", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:37", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Detecting intents from query: what version are you on now?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:37", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:39", "level": "INFO", "logger": "httpx", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "extracted user intents: retrieve-system-information", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:39", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Single intent detected=retrieve-system-information; skipping parameter extraction", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:39", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Single intent: retrieve-system-information for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:39", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Using mapped context for active intent retrieve-system-information: 'what version are you on now?'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:39", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Intent routing context established (source=intent_context_map, intent=retrieve-system-information, user=kwlv1sXnUvYT9dnn)", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:39", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Routing to node: handle_system_information_request_node for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:39", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-8", "timestamp": "2025-12-10 17:53:40", "level": "INFO", "logger": "httpx", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: _I'm generating a response from my help docs._", "client_ip": "172.17.0.1", "taskName": "Task-8", "timestamp": "2025-12-10 17:53:40", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent progress message: '_I'm generating a response from my help docs._' (1765389219.3s since last [FORCED])", "client_ip": "172.17.0.1", "taskName": "Task-8", "timestamp": "2025-12-10 17:53:40", "level": "INFO", "logger": "bt_servant_engine.services.progress_messaging", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-context] Node=handle_system_information_request_node will use active context (source=intent_context_map): 'what version are you on now?'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:40", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:41", "level": "INFO", "logger": "httpx", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:41", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:41", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "help response from openai: Current version: v1.4.7\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\n\nHere's what I can help you with:\n\n- *Summarize a passage*: Summarize books, chapters, or verse ranges.\n- *FIA process guidance*: Use FIA resources to explain the workflow or apply steps to a passage.\n- *Translation helps*: Point out typical translation challenges.\n- *Keywords*: List key terms in a passage.\n- *Show scripture text*: Display the verse text for a selection.\n- *Read aloud*: Hear the passage as audio.\n- *Set response language*: Choose your preferred reply language.\n- *Clear response language*: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:41", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:42", "level": "INFO", "logger": "httpx", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:42", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=False verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:42", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "chunk translation not required. using chunk as is.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:42", "level": "INFO", "logger": "bt_servant_engine.services.response_pipeline", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:42", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 17:53:42", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Response from bt_servant: Current version: v1.4.7\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\n\nHere's what I can help you with:\n\n- *Summarize a passage*: Summarize books, chapters, or verse ranges.\n- *FIA process guidance*: Use FIA resources to explain the workflow or apply steps to a passage.\n- *Translation helps*: Point out typical translation challenges.\n- *Keywords*: List key terms in a passage.\n- *Show scripture text*: Display the verse text for a selection.\n- *Read aloud*: Hear the passage as audio.\n- *Set response language*: Choose your preferred reply language.\n- *Clear response language*: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-5", "timestamp": "2025-12-10 17:53:42", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-5", "timestamp": "2025-12-10 17:53:43", "level": "INFO", "logger": "httpx", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: Current version: v1.4.7\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\n\nHere's what I can help you with:\n\n- *Summarize a passage*: Summarize books, chapters, or verse ranges.\n- *FIA process guidance*: Use FIA resources to explain the workflow or apply steps to a passage.\n- *Translation helps*: Point out typical translation challenges.\n- *Keywords*: List key terms in a passage.\n- *Show scripture text*: Display the verse text for a selection.\n- *Read aloud*: Hear the passage as audio.\n- *Set response language*: Choose your preferred reply language.\n- *Clear response language*: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-5", "timestamp": "2025-12-10 17:53:43", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Overall process_message processing time: 13.81 seconds", "client_ip": "172.17.0.1", "taskName": "Task-5", "timestamp": "2025-12-10 17:53:47", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "PerfReport {\n   \"user_id\":\"kwlv1sXnUvYT9dnn\",\n   \"trace_id\":\"wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkExMkU2N0EyRjdFNTk0MTA1NAA=\",\n   \"total_ms\":13811.98,\n   \"total_s\":13.81,\n   \"total_input_tokens\":8059,\n   \"total_output_tokens\":208,\n   \"total_tokens\":8267,\n   \"total_cached_input_tokens\":0,\n   \"total_audio_input_tokens\":0,\n   \"total_audio_output_tokens\":0,\n   \"total_input_cost_usd\":0.018761,\n   \"total_output_cost_usd\":0.001967,\n   \"total_cached_input_cost_usd\":0.0,\n   \"total_audio_input_cost_usd\":0.0,\n   \"total_audio_output_cost_usd\":0.0,\n   \"total_cost_usd\":0.020728,\n   \"grouped_totals_by_intent\":{\n      \"retrieve-system-information\":{\n         \"input_tokens\":1709,\n         \"output_tokens\":142,\n         \"total_tokens\":1851,\n         \"cached_input_tokens\":0,\n         \"audio_input_tokens\":0,\n         \"audio_output_tokens\":0,\n         \"input_cost_usd\":0.004273,\n         \"output_cost_usd\":0.00142,\n         \"cached_input_cost_usd\":0.0,\n         \"audio_input_cost_usd\":0.0,\n         \"audio_output_cost_usd\":0.0,\n         \"total_cost_usd\":0.005693,\n         \"duration_percentage\":\"11.9%\",\n         \"token_percentage\":\"22.4%\"\n      }\n   },\n   \"spans\":[\n      {\n         \"name\":\"bt_servant:verify_facebook_signature\",\n         \"duration_ms\":0.05,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":0.0,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"bt_servant:process_message\",\n         \"duration_ms\":13811.14,\n         \"duration_se\":13.81,\n         \"duration_percentage\":\"100.0%\",\n         \"start_offset_ms\":0.84,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"messaging:send_typing_indicator_message\",\n         \"duration_ms\":585.34,\n         \"duration_se\":0.59,\n         \"duration_percentage\":\"4.2%\",\n         \"start_offset_ms\":0.86,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:start_node\",\n         \"duration_ms\":0.77,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":590.17,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:determine_query_language_node\",\n         \"duration_ms\":1204.06,\n         \"duration_se\":1.2,\n         \"duration_percentage\":\"8.7%\",\n         \"start_offset_ms\":591.42,\n         \"input_tokens_expended\":292,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":298,\n         \"input_cost_usd\":4.4e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.7e-05,\n         \"token_percentage\":\"3.6%\"\n      },\n      {\n         \"name\":\"brain:preprocess_user_query_node\",\n         \"duration_ms\":2241.47,\n         \"duration_se\":2.24,\n         \"duration_percentage\":\"16.2%\",\n         \"start_offset_ms\":1796.41,\n         \"input_tokens_expended\":2907,\n         \"output_tokens_expended\":44,\n         \"total_tokens_expended\":2951,\n         \"input_cost_usd\":0.007267,\n         \"output_cost_usd\":0.00044,\n         \"total_cost_usd\":0.007707,\n         \"token_percentage\":\"35.7%\"\n      },\n      {\n         \"name\":\"brain:determine_intents_node\",\n         \"duration_ms\":1602.6,\n         \"duration_se\":1.6,\n         \"duration_percentage\":\"11.6%\",\n         \"start_offset_ms\":4038.46,\n         \"input_tokens_expended\":2853,\n         \"output_tokens_expended\":10,\n         \"total_tokens_expended\":2863,\n         \"input_cost_usd\":0.007132,\n         \"output_cost_usd\":0.0001,\n         \"total_cost_usd\":0.007233,\n         \"token_percentage\":\"34.6%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":842.96,\n         \"duration_se\":0.84,\n         \"duration_percentage\":\"6.1%\",\n         \"start_offset_ms\":5642.99,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:handle_system_information_request_node\",\n         \"duration_ms\":1646.43,\n         \"duration_se\":1.65,\n         \"duration_percentage\":\"11.9%\",\n         \"start_offset_ms\":6486.41,\n         \"input_tokens_expended\":1709,\n         \"output_tokens_expended\":142,\n         \"total_tokens_expended\":1851,\n         \"input_cost_usd\":0.004273,\n         \"output_cost_usd\":0.00142,\n         \"total_cost_usd\":0.005693,\n         \"token_percentage\":\"22.4%\"\n      },\n      {\n         \"name\":\"brain:translate_responses_node\",\n         \"duration_ms\":919.53,\n         \"duration_se\":0.92,\n         \"duration_percentage\":\"6.7%\",\n         \"start_offset_ms\":8133.44,\n         \"input_tokens_expended\":298,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":304,\n         \"input_cost_usd\":4.5e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.8e-05,\n         \"token_percentage\":\"3.7%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":748.85,\n         \"duration_se\":0.75,\n         \"duration_percentage\":\"5.4%\",\n         \"start_offset_ms\":9054.66,\n         \"token_percentage\":\"0.0%\"\n      }\n   ]\n}", "client_ip": "172.17.0.1", "taskName": "Task-5", "timestamp": "2025-12-10 17:53:47", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "035220a267e64986855e24a9137e0313", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "text message from kwlv1sXnUvYT9dnn with id wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkM0MUUyREQxNDM2NkY4RUQwMAA= and timestamp 1765388930 received.", "client_ip": "172.17.0.1", "taskName": "Task-72", "timestamp": "2025-12-10 18:35:36", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "a59d6a3168df405081b085f68025ec84", "user": "-", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-73", "timestamp": "2025-12-10 18:35:37", "level": "INFO", "logger": "httpx", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent typing indicator via message_id=wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkM0MUUyREQxNDM2NkY4RUQwMAA=", "client_ip": "172.17.0.1", "taskName": "Task-73", "timestamp": "2025-12-10 18:35:37", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:38", "level": "INFO", "logger": "httpx", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:38", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=True verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:38", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language code en detected by gpt-4o.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:38", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:42", "level": "INFO", "logger": "httpx", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "original_message: what version are you on now?\nnew_message: What version are you on now?\nreason_for_decision: The user's question is clear and similar to previous queries about the version. The context does not require any changes, as the user's intent is specific and straightforward.\nmessage_changed: False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:42", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:42", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:42", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Detecting intents from query: what version are you on now?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:42", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:43", "level": "INFO", "logger": "httpx", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "extracted user intents: retrieve-system-information", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:43", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[determine-intents] Single intent detected=retrieve-system-information; skipping parameter extraction", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:43", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Single intent: retrieve-system-information for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:43", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Using mapped context for active intent retrieve-system-information: 'what version are you on now?'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:43", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Intent routing context established (source=intent_context_map, intent=retrieve-system-information, user=kwlv1sXnUvYT9dnn)", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:43", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[process-intents] Routing to node: handle_system_information_request_node for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:43", "level": "INFO", "logger": "bt_servant_engine.services.brain_orchestrator", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-76", "timestamp": "2025-12-10 18:35:44", "level": "INFO", "logger": "httpx", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: _I'm generating a response from my help docs._", "client_ip": "172.17.0.1", "taskName": "Task-76", "timestamp": "2025-12-10 18:35:44", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent progress message: '_I'm generating a response from my help docs._' (1765391743.4s since last [FORCED])", "client_ip": "172.17.0.1", "taskName": "Task-76", "timestamp": "2025-12-10 18:35:44", "level": "INFO", "logger": "bt_servant_engine.services.progress_messaging", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-context] Node=handle_system_information_request_node will use active context (source=intent_context_map): 'what version are you on now?'", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:44", "level": "INFO", "logger": "bt_servant_engine.services.brain_nodes", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "httpx", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "no numbers found.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "help response from openai: Current version: v1.4.7\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\n\nHere's what I can help you with:\n\n- *Summarize a passage*: Summarize books, chapters, or verse ranges.\n- *FIA process guidance*: Use FIA resources to explain the workflow or apply steps to a passage.\n- *Translation helps*: Point out typical translation challenges.\n- *Keywords*: List key terms in a passage.\n- *Show scripture text*: Display the verse text for a selection.\n- *Read aloud*: Hear the passage as audio.\n- *Set response language*: Choose your preferred reply language.\n- *Clear response language*: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "bt_servant_engine.services.intents.simple_intents", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://api.openai.com/v1/responses \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "httpx", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "language detection (model): en", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "heuristic_guard: predicted=en english_instruction=False verse_pattern=False", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "bt_servant_engine.services.preprocessing", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "chunk translation not required. using chunk as is.", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "bt_servant_engine.services.response_pipeline", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] Loading queue for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "[intent-queue] No queue found for user=kwlv1sXnUvYT9dnn", "client_ip": "172.17.0.1", "taskName": null, "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "bt_servant_engine.services.intent_queue", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Response from bt_servant: Current version: v1.4.7\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\n\nHere's what I can help you with:\n\n- *Summarize a passage*: Summarize books, chapters, or verse ranges.\n- *FIA process guidance*: Use FIA resources to explain the workflow or apply steps to a passage.\n- *Translation helps*: Point out typical translation challenges.\n- *Keywords*: List key terms in a passage.\n- *Show scripture text*: Display the verse text for a selection.\n- *Read aloud*: Hear the passage as audio.\n- *Set response language*: Choose your preferred reply language.\n- *Clear response language*: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-73", "timestamp": "2025-12-10 18:35:46", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "HTTP Request: POST https://graph.facebook.com/v23.0/674468602414883/messages \"HTTP/1.1 200 OK\"", "client_ip": "172.17.0.1", "taskName": "Task-73", "timestamp": "2025-12-10 18:35:47", "level": "INFO", "logger": "httpx", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Sent Meta message to kwlv1sXnUvYT9dnn: Current version: v1.4.7\nRelease notes: https://github.com/unfoldingWord/bt-servant-engine/releases\n\n\nHere's what I can help you with:\n\n- *Summarize a passage*: Summarize books, chapters, or verse ranges.\n- *FIA process guidance*: Use FIA resources to explain the workflow or apply steps to a passage.\n- *Translation helps*: Point out typical translation challenges.\n- *Keywords*: List key terms in a passage.\n- *Show scripture text*: Display the verse text for a selection.\n- *Read aloud*: Hear the passage as audio.\n- *Set response language*: Choose your preferred reply language.\n- *Clear response language*: Return to matching your message language automatically.\n\nWhich of these would you like me to do?", "client_ip": "172.17.0.1", "taskName": "Task-73", "timestamp": "2025-12-10 18:35:47", "level": "INFO", "logger": "bt_servant_engine.adapters.messaging", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "Overall process_message processing time: 14.79 seconds", "client_ip": "172.17.0.1", "taskName": "Task-73", "timestamp": "2025-12-10 18:35:51", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
{"message": "PerfReport {\n   \"user_id\":\"kwlv1sXnUvYT9dnn\",\n   \"trace_id\":\"wamid.HBgLMTQ0Mzg2NzMzNjgVAgASGBQzRkM0MUUyREQxNDM2NkY4RUQwMAA=\",\n   \"total_ms\":14786.21,\n   \"total_s\":14.79,\n   \"total_input_tokens\":8021,\n   \"total_output_tokens\":220,\n   \"total_tokens\":8241,\n   \"total_cached_input_tokens\":0,\n   \"total_audio_input_tokens\":0,\n   \"total_audio_output_tokens\":0,\n   \"total_input_cost_usd\":0.018666,\n   \"total_output_cost_usd\":0.002087,\n   \"total_cached_input_cost_usd\":0.0,\n   \"total_audio_input_cost_usd\":0.0,\n   \"total_audio_output_cost_usd\":0.0,\n   \"total_cost_usd\":0.020753,\n   \"grouped_totals_by_intent\":{\n      \"retrieve-system-information\":{\n         \"input_tokens\":1690,\n         \"output_tokens\":144,\n         \"total_tokens\":1834,\n         \"cached_input_tokens\":0,\n         \"audio_input_tokens\":0,\n         \"audio_output_tokens\":0,\n         \"input_cost_usd\":0.004225,\n         \"output_cost_usd\":0.00144,\n         \"cached_input_cost_usd\":0.0,\n         \"audio_input_cost_usd\":0.0,\n         \"audio_output_cost_usd\":0.0,\n         \"total_cost_usd\":0.005665,\n         \"duration_percentage\":\"15.9%\",\n         \"token_percentage\":\"22.3%\"\n      }\n   },\n   \"spans\":[\n      {\n         \"name\":\"bt_servant:verify_facebook_signature\",\n         \"duration_ms\":0.03,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":0.0,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"bt_servant:process_message\",\n         \"duration_ms\":14785.47,\n         \"duration_se\":14.79,\n         \"duration_percentage\":\"100.0%\",\n         \"start_offset_ms\":0.74,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"messaging:send_typing_indicator_message\",\n         \"duration_ms\":578.63,\n         \"duration_se\":0.58,\n         \"duration_percentage\":\"3.9%\",\n         \"start_offset_ms\":0.76,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:start_node\",\n         \"duration_ms\":0.57,\n         \"duration_se\":0.0,\n         \"duration_percentage\":\"0.0%\",\n         \"start_offset_ms\":582.66,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:determine_query_language_node\",\n         \"duration_ms\":1080.39,\n         \"duration_se\":1.08,\n         \"duration_percentage\":\"7.3%\",\n         \"start_offset_ms\":583.57,\n         \"input_tokens_expended\":292,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":298,\n         \"input_cost_usd\":4.4e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.7e-05,\n         \"token_percentage\":\"3.6%\"\n      },\n      {\n         \"name\":\"brain:preprocess_user_query_node\",\n         \"duration_ms\":3895.43,\n         \"duration_se\":3.9,\n         \"duration_percentage\":\"26.3%\",\n         \"start_offset_ms\":1664.5,\n         \"input_tokens_expended\":2888,\n         \"output_tokens_expended\":54,\n         \"total_tokens_expended\":2942,\n         \"input_cost_usd\":0.00722,\n         \"output_cost_usd\":0.00054,\n         \"total_cost_usd\":0.00776,\n         \"token_percentage\":\"35.7%\"\n      },\n      {\n         \"name\":\"brain:determine_intents_node\",\n         \"duration_ms\":867.48,\n         \"duration_se\":0.87,\n         \"duration_percentage\":\"5.9%\",\n         \"start_offset_ms\":5560.43,\n         \"input_tokens_expended\":2853,\n         \"output_tokens_expended\":10,\n         \"total_tokens_expended\":2863,\n         \"input_cost_usd\":0.007132,\n         \"output_cost_usd\":0.0001,\n         \"total_cost_usd\":0.007233,\n         \"token_percentage\":\"34.7%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":698.98,\n         \"duration_se\":0.7,\n         \"duration_percentage\":\"4.7%\",\n         \"start_offset_ms\":6430.5,\n         \"token_percentage\":\"0.0%\"\n      },\n      {\n         \"name\":\"brain:handle_system_information_request_node\",\n         \"duration_ms\":2344.58,\n         \"duration_se\":2.34,\n         \"duration_percentage\":\"15.9%\",\n         \"start_offset_ms\":7129.92,\n         \"input_tokens_expended\":1690,\n         \"output_tokens_expended\":144,\n         \"total_tokens_expended\":1834,\n         \"input_cost_usd\":0.004225,\n         \"output_cost_usd\":0.00144,\n         \"total_cost_usd\":0.005665,\n         \"token_percentage\":\"22.3%\"\n      },\n      {\n         \"name\":\"brain:translate_responses_node\",\n         \"duration_ms\":519.18,\n         \"duration_se\":0.52,\n         \"duration_percentage\":\"3.5%\",\n         \"start_offset_ms\":9475.03,\n         \"input_tokens_expended\":298,\n         \"output_tokens_expended\":6,\n         \"total_tokens_expended\":304,\n         \"input_cost_usd\":4.5e-05,\n         \"output_cost_usd\":4e-06,\n         \"total_cost_usd\":4.8e-05,\n         \"token_percentage\":\"3.7%\"\n      },\n      {\n         \"name\":\"messaging:send_text_message\",\n         \"duration_ms\":780.03,\n         \"duration_se\":0.78,\n         \"duration_percentage\":\"5.3%\",\n         \"start_offset_ms\":9997.37,\n         \"token_percentage\":\"0.0%\"\n      }\n   ]\n}", "client_ip": "172.17.0.1", "taskName": "Task-73", "timestamp": "2025-12-10 18:35:51", "level": "INFO", "logger": "bt_servant_engine.apps.api.routes.webhooks", "cid": "a59d6a3168df405081b085f68025ec84", "user": "kwlv1sXnUvYT9dnn", "schema_version": "1.0.0"}
